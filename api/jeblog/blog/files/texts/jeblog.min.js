var JEBLOG_SITE_NAME='9r3i',JEBLOG_DATA_URL='data.json',JEBLOG_DATA_SIZE=1234258,JEBLOG_POKE_URL='https://9r3i.github.io/';;function locode(){this.version='2.0.0';this.locodeHTML=function(str){var html=str.split(/\n/).join('<br />'),pt=/(&lt;[a-z0-9]+.*&gt;|&lt;\/[a-z0-9]&gt;)/g,pc=/(&lt;\!\-\-.*\-\-&gt;)/ig,pa=/[a-z]+=/gi,pat=/[a-z]+=('[^']*'|"[^"]*")/ig,ptc=/((&lt;\!\-\-.*\-\-&gt;)|(&lt;[a-z0-9]+.*&gt;|&lt;\/[a-z0-9]&gt;))/ig;return html.replace(ptc,function(m){if(m.match(pc)){return m.replace(pc,function(m){return '<span class="locode-comment">'+m+'</span>';});}m=m.replace(pat,function(m){m=m.replace(pa,function(m){return '<span class="locode-keyword">'+m+'</span>';});return '<span class="locode-string">'+m+'</span>';});return '<span class="locode-htmltag">'+m+'</span>';});};this.locodeJS=function(str){var html=str,ps='(\'[^\']*(\\\\\'[^\']*)+\'|\'[^\']*\'|"[^"]*(\\\\"[^"]*)+"|"[^"]*")',pf='((\\.)\?[a-z_][a-z0-9_]+)',pv='([a-z_][a-z0-9_]*(\\.))',pc='(\\/\\*([^\\*]*[^\\/]*)\\*\\/|\\/\\/[^\\r\\n]*\\r\\n)';var reg=new RegExp('('+pc+'|'+ps+'|'+pf+'|'+pv+')','ig');return html.replace(reg,function(m){if(m.match(new RegExp(pc,'ig'))){return m.replace(new RegExp(pc,'ig'),function(m){return '<span class="locode-comment">'+m+'</span>';});}else if(m.match(new RegExp(ps,'ig'))){return m.replace(new RegExp(ps,'ig'),function(m){return '<span class="locode-string">'+m+'</span>';});}else if(m.match(new RegExp(pv,'ig'))){return m.replace(new RegExp(pv,'ig'),function(m){return '<span class="locode-variable">'+m+'</span>';});}else if(m.match(new RegExp(pf,'ig'))){var k=['object','array','bool','integer','int','mixed','string','void','continue','function','class','final','static','public','private','protected','const','exit','for','as','while','do','echo','goto','if','else','or','and','xor','return','true','false','null','try','catch','finally','throw','var','new','console','this','typeof','in','let'];var f=["close","stop","focus","blur","open","alert","confirm","prompt","print","postMessage","captureEvents","releaseEvents","getSelection","getComputedStyle","matchMedia","moveTo","moveBy","resizeTo","resizeBy","scroll","scrollTo","scrollBy","requestAnimationFrame","cancelAnimationFrame","getDefaultComputedStyle","scrollByLines","scrollByPages","sizeToContent","updateCommands","find","dump","setResizable","requestIdleCallback","cancelIdleCallback","btoa","atob","setTimeout","clearTimeout","setInterval","clearInterval","queueMicrotask","createImageBitmap","fetch","addEventListener","removeEventListener","dispatchEvent"];return m.replace(new RegExp(pf,'ig'),function(m){if(k.indexOf(m)>=0){return '<span class="locode-keyword">'+m+'</span>';}else if(m.substr(0,1)=='.'||f.indexOf(m)>=0){return '<span class="locode-function">'+m+'</span>';}else{return m;}});}else{return m;}});};this.locodePHP=function(str){var html=str,ps='(\'[^\']*(\\\\\'[^\']*)+\'|\'[^\']*\'|"[^"]*(\\\\"[^"]*)+"|"[^"]*")',pf='([a-z_][a-z0-9_]+)',pv='(\\$[a-z_][a-z0-9_]*)',pc='(\\/\\*([^\\*]*[^\\/]*)\\*\\/|\\/\\/[^\\r\\n]*\\r\\n)',pt='(\&lt\;\\?(php)?|\\?\&gt\;)';var reg=new RegExp('('+pc+'|'+ps+'|'+pv+'|'+pt+'|'+pf+')','ig');return html.replace(reg,function(m){if(m.match(new RegExp(pc,'ig'))){return m.replace(new RegExp(pc,'ig'),function(m){return '<span class="locode-comment">'+m+'</span>';});}else if(m.match(new RegExp(ps,'ig'))){return m.replace(new RegExp(ps,'ig'),function(m){return '<span class="locode-string">'+m+'</span>';});}else if(m.match(new RegExp(pv,'ig'))){return m.replace(new RegExp(pv,'ig'),function(m){return '<span class="locode-variable">'+m+'</span>';});}else if(m.match(new RegExp(pt,'ig'))){return m.replace(new RegExp(pt,'ig'),function(m){return '<span class="locode-statement">'+m+'</span>';});}else if(m.match(new RegExp(pf,'ig'))){var f=window.hasOwnProperty('PHP_FUNCTIONS')?window.PHP_FUNCTIONS:['is_bool','is_null','is_file','is_resource'];var c=['object','array','bool','integer','int','mixed','string','void','require_once','require','include_once','include','isset','unset','new','__construct','__destruct','continue','function','class','final','static','public','private','protected','const','exit','for','foreach','as','while','do','echo','goto','if','else','elseif','return','true','false','null','try','catch','throw','or','and','xor','__FILE__','__DIR__','__CLASS__','__FUNCTION__'];return m.replace(new RegExp(pf,'ig'),function(m){if(f.indexOf(m)>=0){return '<span class="locode-function">'+m+'</span>';}else if(c.indexOf(m)>=0){return '<span class="locode-keyword">'+m+'</span>';}else{return m;}});}else{return m;}});};this.locodeLDB=function(str){var html=str.split(/\n/).join('<br />'),ps='(\'[^\']*\'|\'[^\']*(\\\\\'[^\']*)+\'|"[^"]*"|"[^"]*(\\\\"[^"]*)+")',pp='([a-z0-9_]+=[^\&\\x28\\x29\\x2f]+(\&amp;[a-z0-9_]+=[^\&\\x28\\x29\\x2f]+)+)',px='([A-Z]{2,8}(\\s[A-Z]{2,9})?)',pf='([A-Z_]+\\x28)',pc='(\\/\\/[^;]*;|#[^;]*;)',ppx='(\\[[a-z0-9_]+\\])';var reg=new RegExp('('+pc+'|'+ps+'|'+pp+'|'+ppx+'|'+pf+'|'+px+')','ig');return html.replace(reg,function(m){if(m.match(new RegExp(pc,'ig'))){return m.replace(new RegExp(pc,'ig'),function(m){return '<span class="locode-comment">'+m+'</span>';});}else if(m.match(new RegExp(ps,'ig'))){return m.replace(new RegExp(ps,'ig'),function(m){return '<span class="locode-string">'+m+'</span>';});}else if(m.match(new RegExp(pp,'ig'))){return m.replace(new RegExp(pp,'ig'),function(m){return '<span class="locode-param">'+m+'</span>';});}else if(m.match(new RegExp(ppx,'ig'))){return m.replace(new RegExp(ppx,'ig'),function(m){return '<span class="locode-param">'+m+'</span>';});}else if(m.match(new RegExp(pf,'ig'))){return m.replace(new RegExp(pf,'ig'),function(m){return '<span class="locode-keyword">'+m.substr(0,(m.length-1))+'</span>(';});}else if(m.match(new RegExp(px,'g'))){var f=['CREATE DATABASE','DROP DATABASE','ALTER DATABASE','CREATE TABLE','DROP TABLE','ALTER TABLE','TRUNCATE TABLE','SELECT','INSERT','DELETE','UPDATE','SHOW DATABASES','SHOW TABLES','SHOW COLUMNS','INSERT INTO','DELETE FROM','WHERE','ORDER BY','LIMIT','ON','FROM','OR','AND','ASC','DESC','AS'];return m.replace(new RegExp(px,'g'),function(m){if(f.indexOf(m)>=0){return '<span class="locode-statement">'+m+'</span>';}else{return m;}});}else{return m;}});};this.convert=function(str){var _locode=this;return str.replace(/@\[locode(:(ldb|php|js|html))?\[([^~]+(~?[^~]+)*?)~\]\]/g,function(m){var locodeType=false;if(m.match(/^@\[locode:ldb\[/)){locodeType=_locode.locodeLDB;}else if(m.match(/^@\[locode:php\[/)){locodeType=_locode.locodePHP;}else if(m.match(/^@\[locode:js\[/)){locodeType=_locode.locodeJS;}else if(m.match(/^@\[locode:html\[/)){locodeType=_locode.locodeHTML;}var r=m.replace(/^@\[locode(:(ldb|php|js|html))?\[([\r\n]+)?/,'').replace(/([\r\n]+)?~\]\]$/,'');if(locodeType){r=locodeType(r);}var id='locode-'+Math.ceil((new Date).getTime()*Math.random());return '<div id="'+id+'" class="locode-section">'+r+'</div>';});};};;window.like={version:'2.0.0',init:function(){var el=document.getElementById('like');if(!el){return false;}if(!history.state.hasOwnProperty('path')){return false;}var match=history.state.path.match(/\?id=(\d+)/);if(!match){return false;}var post={id:parseInt(match[1])};el.innerHTML=this.likeContent(post);var dlike=document.getElementById('like-button');if(dlike){dlike.onclick=function(e){var id=this.dataset.id;if(window.like.getCookie('likes_post_'+id)){return false;}return window.like.likePost(id);};}return true;},likeContent:function(post){var is_liked=this.getCookie('likes_post_'+post.id)?true:false;var likes=is_liked?1:0;return '<div class="like'+(is_liked?' liked':'')+'" '+'title="Like'+(is_liked?'d':'')+' this post" '+'id="like-button" data-id="'+post.id+'">'+'<div class="like-image"></div>'+'<div class="like-label">Like'+(is_liked?'d':'')+'</div>'+'</div>'+'<div class="like-count" title="'+likes+'">'+'<div class="before"></div>'+'<div class="after">'+likes+'</div>'+'</div>';},likePost:function(id){var lf=document.getElementById('like-form');if(lf){lf.parentElement.removeChild(lf);}var lc=document.querySelector('div[class="like"]');if(lc){lc.setAttribute('class','like liked');lc.parentElement.setAttribute('title','Liked');}var ll=document.querySelector('div[class="like-label"]');if(ll){ll.innerHTML='Liked';}var lco=document.querySelector('div[class="like-count"]');if(lco){var count=parseInt(lco.getAttribute('title'));lco.setAttribute('title',(count+1));lco.children[1].innerHTML=(count+1);}var url='like.txt?id='+id;window.like.request(url,function(r){if(typeof r!=='string'||r!='OK'){return false;}like.setCookie('likes_post_'+id,'true');return true;},function(e){console.log(e);return false;});},request:function(url,cb,er,txt){cb=typeof cb==='function'?cb:function(){};er=typeof er==='function'?er:function(){};txt=txt===false?false:true;var xhr=new XMLHttpRequest();xhr.open('GET',url,true);xhr.send();xhr.onreadystatechange=function(e){if(xhr.readyState==4){if(xhr.status==200){var text=xhr.responseText?xhr.responseText:' ';if(txt){return cb(text);}var res=false;try{res=JSON.parse(text);}catch(e){}return cb(res?res:text);}else if(xhr.status==0){return er('Error: No internet connection.');}return er('Error: '+xhr.status+' - '+xhr.statusText+'.');}else if(xhr.readyState<4){return false;}return er('Error: '+xhr.status+' - '+xhr.statusText+'.');};return true;},setCookie:function(cname,cvalue,exdays){exdays=exdays?parseInt(exdays):366;var d=new Date();d.setTime(d.getTime()+(exdays*24*60*60*1000));var expires="expires="+d.toGMTString();document.cookie=cname+"="+cvalue+"; "+expires;},getCookie:function(cname){var name=cname+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i].trim();if(c.indexOf(name)==0)return c.substring(name.length,c.length);}return "";}};;window.sharer={version:'1.1.0',init:function(){var PS=document.getElementById('sharer');if(PS){PS.title='Share this post';PS.innerHTML='<span class="sharer-image"></span>'+'<span class="sharer-label">Share</span>';var url=encodeURIComponent(document.location.href);var title=encodeURIComponent(document.getElementsByTagName('title')[0].innerHTML);var desc='';var media=encodeURIComponent(document.location.protocol+'//'+document.location.host+'/files/images/luthfie-logo.png');PS.onclick=function(e){sharer.dialog(function(d){var wh=window.innerHeight;var phone=window.ontouchstart!==undefined?true:false;var stand=phone?305:265;var dh=wh>(stand+20)?stand:(wh-20);d.style.marginTop='-'+(dh/2)+'px';d.style.height=dh+'px';d.innerHTML='<div class="sharer-header">Share to</div>';d.innerHTML+='<a href="javascript:sharer.open(\'facebook\')" title="Share to Facebook">'+'<div class="sharer-each sharer-facebook">Facebook</div></a>';d.innerHTML+='<a href="javascript:sharer.open(\'twitter\')" title="Share to Twitter">'+'<div class="sharer-each sharer-twitter">Twitter</div></a>';d.innerHTML+='<a href="javascript:sharer.open(\'gplus\')" title="Share to Google+">'+'<div class="sharer-each sharer-gplus">Google+</div></a>';d.innerHTML+='<a href="javascript:sharer.open(\'linkedin\')" title="Share to LinkedIn">'+'<div class="sharer-each sharer-linkedin">LinkedIn</div></a>';d.innerHTML+='<a href="javascript:sharer.open(\'pinterest\')" title="Share to Pinterest">'+'<div class="sharer-each sharer-pinterest">Pinterest</div></a>';d.innerHTML+='<a href="javascript:sharer.open(\'tumblr\')" title="Share to Tumblr">'+'<div class="sharer-each sharer-tumblr">Tumblr</div></a>';if(phone){d.innerHTML+='<a href="javascript:sharer.open(\'whatsapp\')" title="Share to Whatsapp">'+'<div class="sharer-each sharer-whatsapp">Whatsapp</div></a>';}});};}},open:function(l){var url=encodeURIComponent(document.location.href);var title=encodeURIComponent(document.getElementsByTagName('title')[0].innerHTML);var desc=encodeURIComponent(document.querySelector('meta[name="description"]').content);var media=encodeURIComponent(document.location.protocol+'//'+document.location.host+'/files/images/luthfie-logo.png');var link={facebook:'http://www.facebook.com/share.php?v=4&u='+url+'&t='+title,twitter:'http://twitter.com/share?text='+title+'&url='+url+'&via=',gplus:'https://plus.google.com/share?url='+url,linkedin:'http://www.linkedin.com/shareArticle?mini=true&url='+url+'&title='+title+'&summary='+desc,pinterest:'http://pinterest.com/pin/create/button/?url='+url+'&media='+media+'&description='+title,tumblr:'http://tumblr.com/widgets/share/tool?canonicalUrl='+url+'&title='+title+'&caption='+desc,whatsapp:'whatsapp://send?text='+title+'%20-%20'+url,};sharer.dialog_close();if(link[l]){window.open(link[l],'_blank');}},dialog:function(c){var r=document.getElementById('sharer-dialog');if(r){r.parentElement.removeChild(r);}var d=document.createElement('div');d.id="sharer-dialog";d.innerHTML='<div id="sharer-bg"></div><div id="sharer-content"></div>';document.body.appendChild(d);var bg=document.getElementById('sharer-bg');if(bg){bg.onclick=function(e){sharer.dialog_close();};bg.oncontextmenu=function(e){sharer.dialog_close();};}var r=document.getElementById('sharer-content');if(c){c(r);}},dialog_close:function(){var r=document.getElementById('sharer-dialog');if(r){r.parentElement.removeChild(r);}}};;window.cpu={version:'2.0.0',init:function(){var el=document.getElementById('cpu');if(!el){return false;}el.innerHTML='';el.style.textAlign='center';var id='cpu-test-button-'+Math.ceil((new Date).getTime()*Math.random());var btn=this.button();btn.id=id;btn.innerText='Start Test';el.appendChild(btn);btn.onclick=function(e){this.blur();this.innerText='Testing...';return setTimeout(function(){var res=cpu.start();el.innerText='Your CPU speed is\r\n'+Math.ceil(res)+' MHz';},50);};return true;},button:function(){var btn=document.createElement('button');btn.style.border='0px none';btn.style.borderRadius='3px';btn.style.padding='3px 9px';btn.style.margin='5px';btn.style.color='#ddd';btn.style.fontSize='16px';btn.style.backgroundColor='#591';btn.style.cursor='pointer';btn.onmouseover=function(){this.style.backgroundColor='#480';};btn.onmouseout=function(){this.style.backgroundColor='#591';};return btn;},start:function(el){var speed=0,length=Math.pow(10,3);if(window.navigator.userAgent.match(/opera\smini/ig)){length=Math.pow(10,6);}for(var r=0;r<length;r++){speed+=this.push();}return (speed/length);},push:function(){var limit=Math.pow(10,6),store=0,count=0,result=0;for(var r=0;r<limit;r++){var micro=(new Date()).getTime();if(store==0){store=micro;}else if((micro-store)>0){result=micro-store;break;}else{count++;}}return count;}};;window.WINDOW_EVENTS={version:'1.1.0',execAll:function(){for(var i in WINDOW_EVENTS){if(!Array.isArray(WINDOW_EVENTS[i])){continue;}this.exec(i);}},exec:function(i){if(!WINDOW_EVENTS[i]){return false;}var t=WINDOW_EVENTS[i];if(!window.hasOwnProperty(i)){return false;}window[i]=function(e){if(!t){return false;}for(var v=0;v<t.length;v++){if(typeof t[v]!=='function'){continue;}t[v](e);}};},ontouchstart:[],ontouchend:[],ontouchmove:[],ontouchcancel:[],onvrdisplayconnect:[],onvrdisplaydisconnect:[],onvrdisplayactivate:[],onvrdisplaydeactivate:[],onvrdisplaypresentchange:[],onabort:[],onblur:[],onfocus:[],onauxclick:[],oncanplay:[],oncanplaythrough:[],onchange:[],onclick:[],onclose:[],oncontextmenu:[],ondblclick:[],ondrag:[],ondragend:[],ondragenter:[],ondragexit:[],ondragleave:[],ondragover:[],ondragstart:[],ondrop:[],ondurationchange:[],onemptied:[],onended:[],oninput:[],oninvalid:[],onkeydown:[],onkeypress:[],onkeyup:[],onloadeddata:[],onloadedmetadata:[],onloadend:[],onloadstart:[],onmousedown:[],onmouseenter:[],onmouseleave:[],onmousemove:[],onmouseout:[],onmouseover:[],onmouseup:[],onwheel:[],onpause:[],onplay:[],onplaying:[],onprogress:[],onratechange:[],onreset:[],onresize:[],onscroll:[],onseeked:[],onseeking:[],onselect:[],onshow:[],onstalled:[],onsubmit:[],onsuspend:[],ontimeupdate:[],onvolumechange:[],onwaiting:[],onselectstart:[],ontoggle:[],onpointercancel:[],onpointerdown:[],onpointerup:[],onpointermove:[],onpointerout:[],onpointerover:[],onpointerenter:[],onpointerleave:[],ongotpointercapture:[],onlostpointercapture:[],onanimationcancel:[],onanimationend:[],onanimationiteration:[],onanimationstart:[],ontransitioncancel:[],ontransitionend:[],ontransitionrun:[],ontransitionstart:[],onwebkitanimationend:[],onwebkitanimationiteration:[],onwebkitanimationstart:[],onwebkittransitionend:[],onerror:[],onafterprint:[],onbeforeprint:[],onbeforeunload:[],onhashchange:[],onlanguagechange:[],onmessage:[],onmessageerror:[],onoffline:[],ononline:[],onpagehide:[],onpageshow:[],onpopstate:[],onstorage:[],onunload:[],temp:null};;function jeblog(){this.version='1.0.0';this.DATA={};this.wrapperBody=null;this.executioner=false;var _jeblog=this;this.init=function(){window._jeblog=this;if(typeof localStorage!=='object'||localStorage===null||false){return this.blocked('Error: Your browser is not compatible to this site.');}this.initState();this.bodyInit();if(window.hasOwnProperty('WINDOW_EVENTS')){WINDOW_EVENTS.execAll();}return this.dataInit(function(r){_jeblog.DATA=r;return _jeblog.onpopstate();});};this.initLoginForm=function(){var username=document.querySelector('input[name="username"]'),password=document.querySelector('input[name="password"]'),submit=document.querySelector('input[name="submit"]'),error=document.querySelector('div#login-error');if(!submit||!username||!password||!error||submit.value!='Login'){return false;}submit.onclick=function(e){e.preventDefault();_jeblog.splash('Logging in...');return setTimeout(function(){error.style.display='block';return setTimeout(function(){error.style.display='none';},3000);},3000);};};this.pokeLocation=function(){var ptrn=/^(127\.0\.0\.1|0\.0\.0\.0|192\.168\.)/;return !location.hostname.match(ptrn)?JEBLOG_POKE_URL:'';};this.initAnchors=function(){this.initSearchForm();var ans=document.querySelectorAll('a:not([target="_blank"])');var i=ans.length;while(i--){ans[i].onclick=this.execAnchor;}return true;};this.execAnchor=function(e){e.preventDefault();_jeblog.executioner=true;_jeblog.go(this.href);return false;};this.searchFormContent=function(){return '<div class="search-wrap">'+'<div class="search-form">'+'<div class="search-form-column-input">'+'<input class="search-form-input" data-search="keyword" '+'placeholder="Search..." value="" />'+'</div>'+'<div class="search-form-column-button">'+'<div class="search-button" data-search="submit"></div>'+'</div>'+'<div class="search-suggestion" data-search="suggestion"></div>'+'</div>'+'</div>';};this.initSearchForm=function(){var sinput=document.querySelector('input[data-search="keyword"]');var sbutton=document.querySelector('[data-search="submit"]');if(!sinput){return false;}sinput.onkeyup=function(e){_jeblog.searchSuggestion(this.value);if(e.keyCode!==13||!this.value){return false;}var url='?search='+this.value;return _jeblog.go(url);};if(sbutton){sbutton.onclick=function(e){if(!sinput.value){return false;}var url='?search='+sinput.value;return _jeblog.go(url);};}};this.searchSuggestion=function(value){var el=document.querySelector('[data-search="suggestion"]'),posts=this.objectToArray(this.DATA.posts);if(typeof value!=='string'||!value||!el||!Array.isArray(posts)){return false;}this.clearElement(el);posts.reverse();for(var i=0;i<posts.length;i++){if((new RegExp(value,'i')).test(posts[i].title)){var nel=document.createElement('div');var an=document.createElement('a');nel.classList.add('search-suggestion-row');nel.innerText=posts[i].title;an.title=posts[i].title;an.href='?id='+posts[i].id;an.onclick=this.execAnchor;an.appendChild(nel);el.appendChild(an);}}return true;};this.initState=function(){if(window.hasOwnProperty('WINDOW_EVENTS')){WINDOW_EVENTS.onpopstate.push(this.onpopstate);}else{window.onpopstate=this.onpopstate;}return true;};this.go=function(href){if(href==window.location.href){return false;}window.history.pushState({path:href},'',href);return this.onpopstate();};this.onpopstate=function(e){if(_jeblog.executioner){_jeblog.setTitle('Loading...');_jeblog.splash('Loading...');return setTimeout(function(){_jeblog.executioner=false;return _jeblog.putContent();},3000);}return _jeblog.putContent();};this.contentLoginForm=function(){return '<div class="login">'+'<div class="login-header"></div>'+'<div class="login-body">'+'<div class="login-error" id="login-error" '+'style="display:none;">Invalid username or password.</div>'+'<div class="login-input">'+'<input type="text" name="username" placeholder="Username" /></div>'+'<div class="login-input">'+'<input type="password" name="password" placeholder="Password" /></div>'+'<div class="login-input"><input type="submit" name="submit" value="Login" /></div>'+'</div>'+'<div class="login-footer"></div></div>';};this.contentSearchResult=function(keyword){var tagsHTML=document.createElement('div'),total=0,latest=[];tagsHTML.classList.add('bulk-parent');for(var i in this.DATA.posts){latest.push(this.DATA.posts[i].id);}latest.reverse();for(var e=0;e<latest.length;e++){var i=latest[e];var match=this.DATA.posts[i].content.match(new RegExp(keyword,'ig'));if(!match){continue;}var row=document.createElement('div'),rowTitle=document.createElement('div'),rowLink=document.createElement('a'),rowTime=document.createElement('div'),rowContent=document.createElement('div');row.classList.add('bulk-row');rowTitle.classList.add('bulk-title');rowTime.classList.add('bulk-time');rowContent.classList.add('bulk-content');rowLink.href='?id='+i;rowLink.title=this.DATA.posts[i].title;rowLink.innerText=this.DATA.posts[i].title;rowTime.innerText=this.timeToDate(this.DATA.posts[i].time);rowContent.innerText=this.contentDescription(this.DATA.posts[i].content);rowTitle.appendChild(rowLink);row.appendChild(rowTitle);row.appendChild(rowTime);row.appendChild(rowContent);tagsHTML.appendChild(row);total++;}return {total:total,element:tagsHTML};};this.contentAuthor=function(data){var content=document.createElement('div'),footer=document.createElement('div'),about=document.createElement('div'),cover=document.createElement('div'),picture=document.createElement('div'),coverImage=document.createElement('img'),pictureImage=document.createElement('img'),email=document.createElement('div'),emailText=document.createTextNode('Email: '),emailAn=document.createElement('a'),uri=document.createElement('div'),uriText=document.createTextNode('URI: '),uriAn=document.createElement('a');content.classList.add('author');about.classList.add('author-about');cover.classList.add('author-cover');picture.classList.add('author-picture');email.classList.add('author-email');uri.classList.add('author-uri');about.innerText=data.about;emailAn.target='_blank';emailAn.href='mailto:'+data.email;emailAn.innerText=data.email;uriAn.target='_blank';uriAn.href=data.uri;uriAn.innerText=data.uri;coverImage.src=data.cover;pictureImage.src=data.picture;picture.appendChild(pictureImage);cover.appendChild(coverImage);cover.appendChild(picture);email.appendChild(emailText);email.appendChild(emailAn);uri.appendChild(uriText);uri.appendChild(uriAn);content.appendChild(cover);content.appendChild(about);footer.appendChild(email);footer.appendChild(uri);return {content:content,footer:footer,};};this.contentRecent=function(limit){limit=limit?parseInt(limit):20;limit=Math.max(limit,10);var tagsHTML=document.createElement('div'),totalTags=0,latest=[];tagsHTML.classList.add('bulk-parent');for(var i in this.DATA.posts){latest.push(this.DATA.posts[i].id);}latest.reverse();for(var e=0;e<latest.length;e++){var i=latest[e];var row=document.createElement('div'),rowTitle=document.createElement('div'),rowLink=document.createElement('a'),rowTime=document.createElement('div'),rowContent=document.createElement('div');row.classList.add('bulk-row');rowTitle.classList.add('bulk-title');rowTime.classList.add('bulk-time');rowContent.classList.add('bulk-content');rowLink.href='?id='+i;rowLink.title=this.DATA.posts[i].title;rowLink.innerText=this.DATA.posts[i].title;rowTime.innerText=this.timeToDate(this.DATA.posts[i].time);rowContent.innerText=this.contentDescription(this.DATA.posts[i].content);rowTitle.appendChild(rowLink);row.appendChild(rowTitle);row.appendChild(rowTime);row.appendChild(rowContent);tagsHTML.appendChild(row);totalTags++;if(totalTags>=limit){break;}}return {total:totalTags,element:tagsHTML};};this.contentTag=function(tagName){var tagsHTML=document.createElement('div'),totalTags=0,latest=[];tagsHTML.classList.add('bulk-parent');for(var i in this.DATA.posts){latest.push(this.DATA.posts[i].id);}latest.reverse();for(var e=0;e<latest.length;e++){var i=latest[e];var match=this.DATA.posts[i].content.match(new RegExp('#'+tagName,'ig'));if(!match){continue;}var row=document.createElement('div'),rowTitle=document.createElement('div'),rowLink=document.createElement('a'),rowTime=document.createElement('div'),rowContent=document.createElement('div');row.classList.add('bulk-row');rowTitle.classList.add('bulk-title');rowTime.classList.add('bulk-time');rowContent.classList.add('bulk-content');rowLink.href='?id='+i;rowLink.title=this.DATA.posts[i].title;rowLink.innerText=this.DATA.posts[i].title;rowTime.innerText=this.timeToDate(this.DATA.posts[i].time);rowContent.innerText=this.contentDescription(this.DATA.posts[i].content);rowTitle.appendChild(rowLink);row.appendChild(rowTitle);row.appendChild(rowTime);row.appendChild(rowContent);tagsHTML.appendChild(row);totalTags++;}return {total:totalTags,element:tagsHTML};};this.contentHome=function(){var tags={},tagName='#islam',tagsByName=[],tagsHTML=document.createElement('div');tagsHTML.classList.add('tags-content');for(var i in this.DATA.posts){var match=this.DATA.posts[i].content.match(/#[a-z]+/ig);if(!match){continue;}var postID=this.DATA.posts[i].id;for(var e=0;e<match.length;e++){tagName=match[e].toLowerCase();if(tagsByName.indexOf(tagName)<0){tagsByName.push(tagName);}if(!tags.hasOwnProperty(tagName)){tags[tagName]=[];}if(tags[tagName].indexOf(postID)>=0){continue;}tags[tagName].push(postID);}}tagsByName.sort();for(var e=0;e<tagsByName.length;e++){var i=tagsByName[e],an=document.createElement('a'),space=document.createTextNode(' ');an.classList.add('tag-count-'+this.tagClass(tags[i].length));an.classList.add('tags-each');an.href='?tag='+i.substr(1);an.title=i;an.dataset.content=i.substr(1)+'('+tags[i].length+')';tagsHTML.appendChild(an);tagsHTML.appendChild(space);}return {total:tagsByName.length,element:tagsHTML};};this.contentDescription=function(s,m){m=m?parseInt(m):300;s=typeof s==='string'?s:'';if(m>=s.length){return s;}s=s.replace(/"/g,'&quot;');var sp=s.split(/(\r\n|\r|\n)+/),n='',i=0;while(n.length<m){n+=sp[i]+' ';i++;}return n;};this.contentKeywords=function(s,m){m=m?parseInt(m):3;s=typeof s==='string'?s:'';var match=s.match(/#?[a-z]+/ig),words=[];for(var i=0;i<match.length;i++){if(match[i].length<5||words.indexOf(match[i])>=0){continue;}words.push(match[i]);}words=this.shuffle(words);return words.slice(0,m).join(', ').toLowerCase();};this.putContent=function(){var stated=false,realpath=window.location.search,srch=realpath.substr(1);if(history.state&&history.state.hasOwnProperty('path')){realpath=history.state.path;srch=realpath.split('?');srch=srch.hasOwnProperty(1)?srch[1]:'';}var query=this.parseStr(srch);var name='none',data={title:'Error: 404 Not Found',content:'',detail:'',plugins:'',tags:'',footnote:'',description:'The sly eagle doesn\'t kill at whim',keywords:'Think, Learn, Action',};if(query.hasOwnProperty('id')&&this.DATA.posts.hasOwnProperty(query.id)){name='post';var dataRaw=JSON.stringify(this.DATA.posts[query.id]);var post=JSON.parse(dataRaw);var pcontent=post.content;pcontent=this.contentLink(pcontent);pcontent=this.contentParagraph(pcontent);if(window.hasOwnProperty('locode')&&typeof locode==='function'){pcontent=(new locode).convert(pcontent);}data.title=post.title;data.content=this.contentTags(pcontent);data.tags=this.getTags(post.content);data.detail='Published at '+this.timeToDate(post.time)+'<br />Authored by <a href="?author='+post.author+'">'+this.DATA.authors[post.author].name+'</a>';data.plugins='<div id="sharer"></div> <div id="like"></div>';data.id=post.id;data.description=this.contentDescription(post.content);data.keywords=this.contentKeywords(post.content);}else if(query.hasOwnProperty('tag')){name='tag';var bulk=this.contentTag(query.tag);data.detail='Total: '+bulk.total+' entr'+(bulk.total>1?'ies':'y');data.content=bulk.element;data.title='#'+query.tag;data.description='Label tag for #'+query.tag;data.keywords=query.tag;}else if(query.hasOwnProperty('recent')){name='recent';var bulk=this.contentRecent(query.recent);data.detail='Total: '+bulk.total+' entr'+(bulk.total>1?'ies':'y');data.content=bulk.element;data.title='Recent Posts';}else if(query.hasOwnProperty('search')){name='search';var keyword=query.search.trim().length>0?query.search:false;if(keyword){var bulk=this.contentSearchResult(keyword);data.detail='Total: '+bulk.total+' entr'+(bulk.total>1?'ies':'y');data.content=bulk.element;data.title='Search'+(keyword?' for '+keyword:'');data.description='Search result for '+keyword;data.keywords=keyword;}else{data.detail='';data.title='Search';data.content=this.searchFormContent();}}else if(query.hasOwnProperty('author')&&this.DATA.authors.hasOwnProperty(query.author)){name='author';data['author']=this.DATA.authors[query.author];var user=this.contentAuthor(data.author);var tos=document.createElement('div');tos.innerHTML=data.author.name;data.title=tos.innerHTML;data.content=user.content;data.footnote=user.footer;data.detail='Author Profile';data.description=this.contentDescription(data.author.about);data.keywords=this.contentKeywords(data.author.about);}else if(query.hasOwnProperty('admin')){name='admin';data.title='Login';data.content=this.contentLoginForm();}else if(query.hasOwnProperty('home')||JSON.stringify(query)==='{}'){name='home';var home=this.contentHome();data.detail='Total: '+home.total+' tags';data.content=home.element;data.title='The sly eagle doesn\'t kill at whim';}var template=this.newBodyTemplate(name);for(var i in template){if(typeof template[i]!=='object'||template[i]===null||!data.hasOwnProperty(i)||i=='title'){continue;}if(typeof data[i]==='string'){template[i].innerHTML=data[i];}else if(typeof data[i]==='object'&&data[i]!==null&&typeof data[i].appendChild==='function'){template[i].appendChild(data[i]);}}this.setTitle(data.title);/* update/replace history state */if(stated){window.history.replaceState({title:data.title,template:name,},'',realpath);}var pingback=document.querySelector('link[rel="pingback"]'),canonical=document.querySelector('link[rel="canonical"]');if(pingback){pingback.href=realpath;}if(canonical){canonical.href=realpath;}var description=document.querySelector('meta[name="description"]'),keywords=document.querySelector('meta[name="keywords"]');if(description){description.content=data.description;}if(keywords){keywords.content=data.keywords;}if(window.hasOwnProperty('sharer')){sharer.init();}if(window.hasOwnProperty('like')){like.init();}if(window.hasOwnProperty('cpu')){cpu.init();}this.initSearchForm();this.initLoginForm();return this.initAnchors();};this.newBodyTemplate=function(name){this.clearElement(this.wrapperBody);document.scrollingElement.scrollTop=0;var names={post:['detail','title','plugins','tags','content'],home:['detail','title','content'],tag:['detail','title','content'],recent:['detail','title','content'],author:['detail','title','content','footnote'],search:['detail','title','content'],admin:['content'],none:['detail','title','content']},wrapper={name:'none'};if(typeof name!=='string'||!names.hasOwnProperty(name)){return false;}for(var i=0;i<names[name].length;i++){var wkey=names[name][i];wrapper[wkey]=this.newBody(wkey);}wrapper.name=name;return wrapper;};this.newBody=function(name){var el=document.createElement('div');el.classList.add(name);el.id=name;el.dataset.content='';this.wrapperBody.appendChild(el);return el;};this.bodyInit=function(){this.clearElement(document.body);var scr=document.getElementsByTagName('script');if(scr){var i=scr.length;while(i--){scr[i].parentElement.removeChild(scr[i]);}}if(!document.hasOwnProperty('body')){document['body']=document.createElement('body');}this.buildWrapper();return true;};this.buildWrapper=function(){var wrapper=document.getElementById('wrapper');if(wrapper){wrapper.parentElement.removeChild(wrapper);}wrapper=document.createElement('div');wrapper.classList.add('wrapper');wrapper.id='wrapper';var header=document.createElement('div');header.classList.add('header');header.dataset.content=JEBLOG_SITE_NAME;wrapper.appendChild(header);var neck=document.createElement('div');neck.classList.add('neck');wrapper.appendChild(neck);var buttons={'home':'Home','recent':'Recent','search':'Search','admin':'Admin',};for(var i in buttons){var btn=document.createElement('div');var ntg=document.createElement('a');btn.classList.add('neck-button');btn.dataset.content=buttons[i];ntg.title=buttons[i];ntg.href='?'+i;ntg.appendChild(btn);neck.appendChild(ntg);}var body=document.createElement('div');body.classList.add('body');wrapper.appendChild(body);this.wrapperBody=body;var footer=document.createElement('div');footer.classList.add('footer');footer.dataset.content='9r3i\\jeblog::site '+this.version;wrapper.appendChild(footer);document.body.appendChild(wrapper);return wrapper;};this.setTitle=function(txt,asHTML){var titleTag=document.getElementsByTagName('title');var blogTitle=document.getElementById('title');if(blogTitle){if(asHTML){blogTitle.innerHTML=txt;}else{blogTitle.innerText=txt;}}var suffix=(asHTML?' &#x2015; ':' \u2015 ')+JEBLOG_SITE_NAME;if(!titleTag||titleTag.length==0){titleTag=document.createElement('title');if(asHTML){titleTag.innerHTML=txt.replace(/<[^>]+>/g,'')+suffix;}else{titleTag.innerText=txt+suffix;}document.head.appendChild(titleTag);return true;}var i=titleTag.length;while(i--){if(asHTML){titleTag[i].innerHTML=txt.replace(/<[^>]+>/g,'')+suffix;}else{titleTag[i].innerText=txt+suffix;}}return true;};this.getTags=function(content){content=typeof content==='string'?content:'';var mTags=content.match(/#[a-z]+/ig),tags=[];if(!mTags){return '';}for(var i=0;i<mTags.length;i++){var tag=mTags[i].toLowerCase().substr(1);var tmp='<a href="?tag='+tag+'" title="#'+tag+'" '+'class="content-detail-tag-each">#'+tag+'</a>';if(tags.indexOf(tmp)<0){tags.push(tmp);}}return '<div class="content-detail-tag">'+tags.join(' ')+'</div>';};this.contentTags=function(content){content=typeof content==='string'?content:'';return content.replace(/#[a-z]+/ig,function(m){return '<a href="?tag='+m.substr(1).toLowerCase()+'" title="'+m.toLowerCase()+'">'+m+'</a>';}).replace(/oleh:\s([^\r\n]+)/i,function(m){return 'Oleh: <a href="?search='+encodeURIComponent(m.substr(6))+'" title="'+m.substr(6)+'">'+m.substr(6)+'</a>';});};this.contentParagraph=function(content,arabicClassName){content=typeof content==='string'?content:'';arabicClassName=typeof arabicClassName==='string'?arabicClassName:'content-arabic';var spl=content.split(/\n/);var minA=0x60c,maxA=0x201d;var res=[];for(var i=0;i<spl.length;i++){var tr={min:0xfff,max:0,chr:0};for(var o=0;o<spl[i].length;o++){var ca=spl[i].charCodeAt(o);if(ca>0xff){tr.max=Math.max(tr.max,ca);tr.min=Math.min(tr.min.ca);tr.chr++;}}if(tr.chr/spl[i].length*100>=50){res.push('<div class="'+arabicClassName+'">'+spl[i]+'</div>');}else{res.push(spl[i].replace(/\n/g,''));}}return res.join('\n');};this.contentLink=function(content){content=typeof content==='string'?content:'';var pl=this.pokeLocation();return content.replace(/files\/(audio|video|image)s\/[^\s\'\"]+/ig,function(m){if(m.match(/\.(jpg|jpeg|gif|png|ico|webp)$/i)){return '<a href="'+pl+m+'" title="'+m+'" target="_blank">'+'<img src="'+pl+m+'" alt="'+m+'" style="max-width:100%;" width="100%" />'+'</a>';}else if(m.match(/\.(mp3)$/ig)){var ext=m.match(/mp3$/i)?'mpeg':(m.match(/wav$/i)?'wav':'ogg');return '<a href="'+pl+m+'" title="'+m+'" target="_blank">'+m+'</a><br />'+'<audio controls width="100%" height="auto">'+'<source src="'+pl+m+'" type="audio/'+ext+'">'+'</audio>';}else if(m.match(/\.mp4$/i)){return '<a href="'+pl+m+'" title="'+m+'" target="_blank">'+m+'</a><br />'+'<video controls width="auto" height="auto">'+'<source src="'+pl+m+'" type="video/mp4">'+'</video>';}return '<a href="'+pl+m+'" title="'+m+'" target="_blank">'+m+'</a>';});};this.dataClear=function(){localStorage.removeItem('jeblog-data');return true;};this.dataInit=function(cb){cb=typeof cb==='function'?cb:function(){};var temp=localStorage.getItem('jeblog-data'),newData=null;if(temp){try{newData=JSON.parse(temp);}catch(e){}if(newData){return cb(newData);}localStorage.removeItem('jeblog-data');return this.blocked('Error: Failed to parse data.');}return this.dataPrepare(function(r){localStorage.setItem('jeblog-data',JSON.stringify(r));return cb(r);});};this.dataPrepare=function(cb){cb=typeof cb==='function'?cb:function(){};var url=this.pokeLocation()+JEBLOG_DATA_URL+'?r='+(new Date).getTime();_jeblog.loader('Requesting...',0);return _jeblog.getContent(url,function(r){_jeblog.loader(false);if(typeof r!=='object'){r=typeof r==='string'?r:r.toString();return _jeblog.blocked(r);}return cb(r);},function(e){_jeblog.loader(false);return _jeblog.blocked(e);},false,function(e){var percent=Math.floor(e.loaded/JEBLOG_DATA_SIZE*100);return _jeblog.loader('Loading...',percent);},function(e){return _jeblog.loader('Requesting...',0);});};this.shuffle=function(r){if(!Array.isArray(r)){return false;}if(r.length==0){return r;}var c=r.length,t,x;while(c>0){x=Math.floor(Math.random()*c);c--;t=r[c];r[c]=r[x];r[x]=t;}return r;};this.tagClass=function(count){count=count?parseInt(count):0;count=Math.max(count,0);var classes={'ultra-high':128,'very-high':64,'high':32,'moderate-high':16,'moderate':8,'moderate-low':4,'low':2,'very-low':1,},className='very-low';for(var i in classes){if(count>=classes[i]){className=i;break;}}return className;};this.objectToArray=function(raw){if(typeof raw!=='object'||raw===null){return false;}var res=[];for(var i in raw){res.push(raw[i]);}return res;};this.timeToDate=function(time){var d=time.toString().match(/^\d+$/)?new Date(parseInt(time)*1000):new Date;var day=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];var month=['January','February','March','April','May','June','July','August','September','October','November','December'];var ss=['','st','nd','rd','th','th','th','th','th','th','th','th','th','th','th','th','th','th','th','th','th','st','nd','rd','th','th','th','th','th','th','th','st'];return day[d.getDay()]+', '+month[d.getMonth()]+' '+d.getDate()+ss[d.getDate()]+' '+d.getFullYear();};this.clearElement=function(el){if(typeof el!=='object'||el===null){return false;}var i=el.childNodes.length;while(i--){el.removeChild(el.childNodes[i]);}return true;};this.parseStr=function(t){if(typeof t!=='string'){return false;}var s=t.split('&');var r={},c={};for(var i=0;i<s.length;i++){if(!s[i]||s[i]==''){continue;}var p=s[i].split('=');var k=decodeURIComponent(p[0]);if(k.match(/\[(.*)?\]$/g)){var l=k.replace(/\[(.*)?\]$/g,'');var w=k.replace(/^.*\[(.*)?\]$/g,"$1");c[l]=c[l]?c[l]:0;if(w==''){w=c[l];c[l]+=1;}if(!r[l]){r[l]={};}r[l][w]=decodeURIComponent(p[1]);continue;}r[k]=p[1]?decodeURIComponent(p[1]):'';}return r;};this.getContent=function(url,cb,er,txt,dlp,upl){var xhr=new XMLHttpRequest(),version='1.1.0';cb=typeof cb==='function'?cb:function(){};er=typeof er==='function'?er:function(){};dlp=typeof dlp==='function'?dlp:function(){};upl=typeof upl==='function'?upl:function(){};txt=txt===false?false:true;xhr.open('GET',url,true);xhr.send();xhr.onreadystatechange=function(e){if(xhr.readyState==4){if(xhr.status==200){var text=xhr.responseText?xhr.responseText:' ';if(txt){return cb(text);}var res=false;try{res=JSON.parse(text);}catch(e){}return cb(res?res:text);}else if(xhr.status==0){return er('Error: No internet connection.');}return er('Error: '+xhr.status+' - '+xhr.statusText+'.');}else if(xhr.readyState<4){return false;}return er('Error: '+xhr.status+' - '+xhr.statusText+'.');};xhr.addEventListener("progress",dlp,false);xhr.upload.onprogress=upl;return true;};this.loaderTest=function(i){i=i?parseInt(i):1;_jeblog.loader('Loading... ('+i+'%)',i);setTimeout(function(){if(i>=100){return _jeblog.loader(false);}i++;return _jeblog.loaderTest(i);},1000-(i*10));};this.loader=function(text,progress){var id='jeblog-loader',dl=document.getElementById(id);if(typeof text==='boolean'&&text===false){if(dl){dl.parentElement.removeChild(dl);}return false;}var dlc=null,dlp=null;progress=progress?parseInt(progress):0;progress=Math.max(Math.min(progress,100),0);if(!dl){dl=document.createElement('div');dlc=document.createElement('div');dlp=document.createElement('div');dlpp=document.createElement('progress');dlc.classList.add('loader-content');dlp.classList.add('loader-progress');dlpp.max=100;dlpp.value=0;dl.id=id;dl.classList.add('loader');dl.appendChild(dlc);dl.appendChild(dlp);dlp.appendChild(dlpp);document.body.appendChild(dl);}dlp=dl.children[1];dlc=dl.children[0];dlc.dataset.content=typeof text==='string'?text:'Loading...';dlpp.value=progress;return true;};this.splash=function(text){var id='jeblog-splash',dl=document.getElementById(id);if(dl){dl.parentElement.removeChild(dl);}dl=document.createElement('div');dlp=document.createElement('div');dl.id=id;dl.classList.add('splash');dlp.classList.add('splash-progress');dl.appendChild(dlp);document.body.appendChild(dl);dl.dataset.content=typeof text==='string'?text:'';document.body.classList.add('no-scroll');setTimeout(function(){dl.classList.add('fading-out');document.body.classList.remove('no-scroll');setTimeout(function(){if(typeof dl.parentElement.removeChild==='function'){dl.parentElement.removeChild(dl);}return true;},500);},3000);return true;};this.blocked=function(text){var id='jeblog-blocked',dl=document.getElementById(id);if(typeof text==='boolean'&&text===false){if(dl){dl.parentElement.removeChild(dl);}return false;}if(!dl){dl=document.createElement('div');dl.id=id;dl.classList.add('blocked');document.body.appendChild(dl);}dl.dataset.content=typeof text==='string'?text:'';return true;};return this.init();};new jeblog;